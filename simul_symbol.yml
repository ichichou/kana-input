title: "9. 同時打鍵で記号入力"

# ===== Aliases =====

aliases:

# ----- Modifier Keys -----

- to/modifiers: &to_shift_key
  - shift

# ----- Conditions -----

- conditions: &base_state
  - type: input_source_if
    input_sources:
    - language: ja
  - type: variable_unless
    name: kana_layout_invalid
    value: 1
  - type: variable_unless
    name: symbol_mode
    value: 1
  - type: frontmost_application_unless
    bundle_identifiers:
    - "^com\\.apple\\.loginwindow$"

# ===== Rules =====

rules:
- description: "[Kana Input] 同時打鍵で記号入力"
  manipulators:

  # RF → 中黒
  - type: basic
    from:
      simultaneous:
      - key_code: r
      - key_code: f
    to:
    - key_code: slash
      repeat: false
    conditions: *base_state

  # RG → 中黒
  - type: basic
    from:
      simultaneous:
      - key_code: r
      - key_code: g
    to:
    - key_code: slash
      repeat: false
    conditions: *base_state

  # FV → 感嘆符
  - type: basic
    from:
      simultaneous:
      - key_code: f
      - key_code: v
    to:
    - key_code: "1"
      modifiers: *to_shift_key
      repeat: false
    conditions: *base_state

  # FB → 感嘆符
  - type: basic
    from:
      simultaneous:
      - key_code: f
      - key_code: b
    to:
    - key_code: "1"
      modifiers: *to_shift_key
      repeat: false
    conditions: *base_state

  # UJ → スラッシュ
  - type: basic
    from:
      simultaneous:
      - key_code: u
      - key_code: j
    to:
    - key_code: l
      repeat: false
    - key_code: slash
      repeat: false
    conditions: *base_state

  # UH → スラッシュ
  - type: basic
    from:
      simultaneous:
      - key_code: u
      - key_code: h
    to:
    - key_code: l
      repeat: false
    - key_code: slash
      repeat: false
    conditions: *base_state

  # JM → 疑問符
  - type: basic
    from:
      simultaneous:
      - key_code: j
      - key_code: m
    to:
    - key_code: slash
      modifiers: *to_shift_key
      repeat: false
    conditions: *base_state

  # JN → 疑問符
  - type: basic
    from:
      simultaneous:
      - key_code: j
      - key_code: "n"
    to:
    - key_code: slash
      modifiers: *to_shift_key
      repeat: false
    conditions: *base_state

  # # FG → 鉤括弧
  # - type: basic
  #   from:
  #     simultaneous:
  #     - key_code: f
  #     - key_code: g
  #   to:
  #   - key_code: open_bracket
  #     repeat: false
  #   - key_code: close_bracket
  #     repeat: false
  #   - key_code: return_or_enter
  #     repeat: false
  #   - key_code: left_arrow
  #     repeat: false
  #   conditions: *base_state

  # # JH → 丸括弧
  # - type: basic
  #   from:
  #     simultaneous:
  #     - key_code: j
  #     - key_code: h
  #   to:
  #   - key_code: "9"
  #     modifiers: *to_shift_key
  #     repeat: false
  #   - key_code: "0"
  #     modifiers: *to_shift_key
  #     repeat: false
  #   - key_code: return_or_enter
  #     repeat: false
  #   - key_code: left_arrow
  #     repeat: false
  #   conditions: *base_state
